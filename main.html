<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <link rel="stylesheet" href="all.css">
    <link rel="stylesheet" href="mainonly.css">
    <link rel="icon" href="Images/丸カットアイコン.png">
    <link rel="preload" href="Images/thisisafirstimage.png" as="image">
    <title>Home ｜ Guardians Of Internet</title>
  </head>
  <body>
    <iframe src="header.htm" style="width:100%;border:0;margin-bottom:0;"></iframe>

    <nav>
      <ul class="nav_ul">
        <li class="nav_li"><a class="nav_a" href="#top">Top</a></li>
        <li class="nav_li"><a class="nav_a" href="#intro">Self-introduction</a></li>
        <li class="nav_li"><a class="nav_a" href="#ac_CR">実績・お客様の声</a></li>
        <li class="nav_li"><a class="nav_a" href="#pages">Pages</a></li>
      </ul>
    </nav>
    
    <!-- ⇊Header -->

    <img src="Images/thisisafirstimage.png" class="thisisafirstimage" alt="イントロ画像" fetchpriority="high">
    
    <header id="top">
      <h1>Home</h1>
      <p class="header_p">Guardians of internet</p>
    </header>

    <main>      
      <section class="intro" id="intro">
        <h2>Self-introduction</h2>
        <div class="overviews">
          <h3>概要</h3>
          <p>Name : インターネットの番人 <span style="font-size:8.5px">(Guardians Of Internet)</span></p>
          <p>インターネット上のトラブルや疑問、プログラミングのレッスンなどインターネットに関する様々なサービスを提供します。</p>
          <h3>主なサービス</h3>
          <ul>
            <li>インターネット上における誹謗中傷・著作権侵害・プライバシー権の損害などの相談</li>
            <li>情報科の質問受付、準講義等</li>
            <li>プログラミングレッスン</li>
            <li>プログラミング・情報科に関する問題や簡易教材の作成</li>
            <li>インターネット上で利用できる簡単なツール</li>
          </ul>
        </div>
      </section>
      
      <section class="ac_CR" id="ac_CR">
        <h2>実績・お客様の声</h2>
        <div class="achievement">
          <h3>実績</h3>
          <div class="miniblock">
            <h4>PCで困ったら、<span onclick="miniblockOneClick(this)">ヤツ</span>のもとへ⋯⋯！</h4>
            <p><span class="miniblock_span">Aさんより</span><br>学校支給のPCが動かなくなったときや、印刷・スクリーン接続といった操作がわからないとき、<button onclick="miniblockTwoClick('thisis')" class="miniblockTwoClock">⋯</button><span id="thisis"></span><span onclick="miniblockOneClick(this)">ヤツ</span>に頼んでました。</p>
            <script>
              // miniblock のクリック処理を改善：
              // - 元のテキストを保持してトグル可能に
              // - アクセシビリティのため role/tabindex を考慮
              function miniblockOneClick(element) {
                // 保存されていなければオリジナルの内容を保存
                if (!element.dataset.original) {
                  element.dataset.original = element.innerHTML;
                }

                const isActive = element.dataset.active === '1';

                if (!isActive) {
                  element.dataset.active = '1';
                  element.innerHTML = '　インターネットの番人　';
                  element.style.color = '#ffffff';
                  element.style.backgroundColor = '#1A73E8';
                  element.style.fontSize = 'larger';
                  element.style.padding = '5px';
                  element.style.borderRadius = '4px';
                  element.style.transition = 'background-color 200ms, color 200ms, transform 200ms';
                  element.style.cursor = 'pointer';
                } else {
                  // 元に戻す
                  element.dataset.active = '0';
                  element.innerHTML = element.dataset.original;
                  element.style.color = '';
                  element.style.backgroundColor = '';
                  element.style.fontSize = '';
                  element.style.padding = '';
                  element.style.borderRadius = '';
                  element.style.transition = '';
                  element.style.cursor = '';
                }
              }

              // 「もっと見る」ボタンのクリックで別メッセージを表示（任意）
              function miniblockTwoClick(buttonElement) {
                const parent = buttonElement.closest('.miniblock');
                if (!parent) return;
                const msg = parent.querySelector('.miniblock-span');
                if (!msg) return;

                // トグルでメッセージを切り替える
                if (msg.dataset.toggled === '1') {
                  msg.dataset.toggled = '0';
                  msg.textContent = 'Aさんより';
                } else {
                  msg.dataset.toggled = '1';
                  msg.textContent = 'Aさんより — 問い合わせから解決まで迅速に対応してもらえました。';
                }
              }

              // キーボードで Enter/Space にも反応させる（span をボタンのように使うため）
              document.addEventListener('keydown', function (e) {
                const active = document.activeElement;
                if (active && active.getAttribute && active.getAttribute('role') === 'button') {
                  if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    active.click();
                  }
                }
              });
            </script>
          </div>
        </div>
      </section>
      
      <section class="pages" id="pages">
        <h2>Pages</h2>
        <div class="selects">
          <details>
            <summary>お問い合わせ</summary>
            <ul>
              <li><a href="Consults/consults.htm">お問い合わせトップ</a></li>
            </ul>
          </details>
        </div>
      </section>
    </main>
    
    <script>
      (function(){
        const img = document.querySelector('.thisisafirstimage');
        if (!img) return;

        // タッチスクロール防止用ハンドラ（iOS 対策）
        function preventTouch(e){ e.preventDefault(); }

        // スクロール禁止を有効にする
        function enableNoScroll(){
          document.documentElement.classList.add('no-scroll');
          document.body.classList.add('no-scroll');
          document.addEventListener('touchmove', preventTouch, { passive: false });
        }

        // スクロール禁止を解除する
        function disableNoScroll(){
          document.documentElement.classList.remove('no-scroll');
          document.body.classList.remove('no-scroll');
          document.removeEventListener('touchmove', preventTouch, { passive: false });
        }

        // アニメーションの最中はスクロール禁止にする（確実性のため即時有効化）
        enableNoScroll();

        // アニメーション終了で要素を削除してスクロールを戻す
        img.addEventListener('animationend', () => {
          disableNoScroll();
          img.remove();
        }, { once: true });

        // 万が一アニメーションが発火しない環境のためのフォールバック（任意）
        setTimeout(() => {
          if (document.documentElement.classList.contains('no-scroll')) {
            disableNoScroll();
          }
        }, 6000); // アニメーション時間より少し長めに
      })();
    </script>

    <footer>
      <iframe src="footer.htm" style="width:100%;border:0;"></iframe>
    </footer>
  </body>
</html>
